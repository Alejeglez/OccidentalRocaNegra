<ion-header [translucent]="true" collapse = "ios">
  <ion-toolbar>
    <ion-title routerLink = "/index">
      Occidental Roca Negra
    </ion-title>
    <ion-buttons slot = "start">
    <ion-menu-button menu = "main-menu"></ion-menu-button>
    </ion-buttons>
    <ion-list slot="end" id = "languages">
      <ion-item>
        <ion-select interface="dropdownselection" placeholder="Idioma" >
          <ion-select-option value="espaÃ±ol">Esp</ion-select-option>
          <ion-select-option value="ingles">Eng</ion-select-option>
          <ion-select-option value="aleman">Deu</ion-select-option>
        </ion-select>
      </ion-item>
    </ion-list>  
  </ion-toolbar>
</ion-header>

<ion-content>
<ion-grid>
  <ion-row *ngFor = "let message of messages" class = "message other-message">
    <ion-col size = "9" *ngIf = "currentUser != message.user">
      <b>{{message.user}}</b><br>
      <span>{{message.msg}}</span>
      <div class = "time" text-right><br>
        {{message.createdAt | date : 'short'}}</div>
    </ion-col>
 
    <ion-col offset = "3" size = "9" *ngIf = "currentUser == message.user" class = "message my-message">
      <b>{{message.user}}</b><br>
      <span>{{message.msg}}</span>
      <div class = "time" text-right><br>
        {{message.createdAt | date : 'short'}}</div>
    </ion-col>
  </ion-row>
</ion-grid>
</ion-content>

<ion-footer>
  <ion-toolbar color = "light">
      <ion-row align-items-center no-padding>
        <ion-col size = "10">
            <textarea autosize maxRows = "4" [(ngModel)] = "newMsg" class="message-input">
            </textarea>
        </ion-col>
        <ion-col size = "2">
          <ion-button expand = "block" fill = "clear" color = "primary" [disabled] = "newMsg === ''" class = "msg-btn"
           (click) = "sendMessage()">
           <ion-icon name = "send-outline" slot="icon-only" >
           </ion-icon>
          </ion-button>

        </ion-col>
      </ion-row>
  </ion-toolbar>
</ion-footer>
